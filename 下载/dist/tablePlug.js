/** layui-v2.4.4 MIT License By https://www.layui.com */
 ;layui.define(["table"],function(t){"use strict";var e=layui.$,i=(layui.laytpl,layui.laypage,layui.layer,layui.form,layui.util,layui.table),a=(layui.hint(),layui.device(),{}),n="additional",c="removed",r="original",u=function(){var t={};return{check:function(e){return!!t[e]},reset:function(e){t[e]?(this.set(e,n,[]),this.set(e,c,[])):t[e]={original:[],additional:[],removed:[]}},init:function(t,e){this.reset(t),this.set(t,r,e)},getChecked:function(t){var e=this.get(t,c),i=this.get(t,r).concat(this.get(t,n)),a=[];return layui.each(i,function(t,i){e.indexOf(i)===-1&&a.indexOf(i)===-1&&a.push(i)}),a},get:function(e,i){return i===n||i===c||i===r?t[e]?t[e][i]:[]:t[e]},set:function(e,i,a){return i!==r&&i!==n&&i!==c?void console.log("代码有误：类型出错！"):void(t[e][i]=a&&l(a)?a:[])},update:function(e,i,a){var u=t[e][r],l=t[e][n],o=t[e][c];a?u.indexOf(i)===-1?l.indexOf(i)===-1&&l.push(i):o.indexOf(i)!==-1&&o.splice(o.indexOf(i),1):u.indexOf(i)===-1?l.indexOf(i)!==-1&&l.splice(l.indexOf(i),1):o.indexOf(i)===-1&&o.push(i)}}}(),l=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=function(t,e,a){if(t&&e)for(var l=u.get(e,n)||[],o=u.get(e,r)||[],f=u.get(e,c)||[],d=l.concat(o.filter(function(t,e){return f.indexOf(t)===-1})),s=0;s<t.length;s++)d.indexOf(t[s].id)!==-1&&(t[s][a||i.config.checkName]=!0)},f=i.render;i.render=function(t){var n=this,c=e.extend(!0,{},i.config,t),r=c.id||e(c.elem).attr("id");c.checkStatus&&!u.check(r)&&u.init(r,c.checkStatus["default"]);var l=c.parseData;l&&l.plugFlag?console.log("已经初始化过"):(t.parseData=function(t){t="function"==typeof l?l.call(n,t)||t:t;var e=c.response?c.response.dataName||"data":"data";return o(t[e],r),t},t.parseData.plugFlag=!0);var d=f.call(n,t);return a[d.config.id]=d};var d=i.reload;i.reload=function(t,e){var i=this,n=d.call(i,t,e);return a[n.config.id]=n},i.getConfig=function(t){return a[t]&&a[t].config};var s=i.checkStatus;i.checkStatus=function(t){var e=this,a=i.getConfig(t);if(a&&a.checkStatus){var n=s.call(e,t);return{data:u.get(t),isAll:n.isAll}}return s.call(e,t)},i.on("checkbox",function(t){var a=e(this).closest(".layui-table-view"),n=a.attr("lay-id")||a.prev().attr("id"),c=i.getConfig(n);if(c.page&&c.checkStatus&&u.check(n)){var r=t.checked,l=t.data,o=t.type,f=c.checkStatus.primaryKey||"id";"one"===o?u.update(n,l[f],r):"all"===o&&layui.each(layui.table.cache[n],function(t,e){u.update(n,e[f],r)})}});var h={CHECK_TYPE_ADDITIONAL:n,CHECK_TYPE_REMOVED:c,CHECK_TYPE_ORIGINAL:r,tableCheck:u};t("tablePlug",h)});
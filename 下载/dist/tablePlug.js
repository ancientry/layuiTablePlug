/** layui-v2.4.4 MIT License By https://www.layui.com */
 ;layui.define(["table"],function(t){"use strict";var e=layui.$,a=(layui.laytpl,layui.laypage,layui.layer,layui.form,layui.util,layui.table),i=(layui.hint(),layui.device(),{}),n="additional",c="removed",r="original",u=function(){var t={};return{check:function(e){return!!t[e]},reset:function(e){t[e]?(this.set(e,n,[]),this.set(e,c,[])):t[e]={original:[],additional:[],removed:[]}},init:function(t,e){this.reset(t),this.set(t,r,e)},getChecked:function(t){var e=this.get(t,c),a=this.get(t,r).concat(this.get(t,n)),i=[];return layui.each(a,function(t,a){e.indexOf(a)===-1&&i.indexOf(a)===-1&&i.push(a)}),i},get:function(e,a){return a===n||a===c||a===r?t[e]?t[e][a]:[]:t[e]},set:function(e,a,i){a!==r&&a!==n&&a!==c||(t[e][a]=i&&l(i)?i:[])},update:function(e,a,i){var u=t[e][r],l=t[e][n],o=t[e][c];i?u.indexOf(a)===-1?l.indexOf(a)===-1&&l.push(a):o.indexOf(a)!==-1&&o.splice(o.indexOf(a),1):u.indexOf(a)===-1?l.indexOf(a)!==-1&&l.splice(l.indexOf(a),1):o.indexOf(a)===-1&&o.push(a)}}}(),l=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=function(t,e,i){if(t&&e)for(var l=u.get(e,n)||[],o=u.get(e,r)||[],f=u.get(e,c)||[],d=l.concat(o.filter(function(t,e){return f.indexOf(t)===-1})),s=0;s<t.length;s++)d.indexOf(t[s].id)!==-1&&(t[s][i||a.config.checkName]=!0)},f=a.render;a.render=function(t){var n=this,c=e.extend(!0,{},a.config,t),r=c.id||e(c.elem).attr("id");c.checkStatus&&!u.check(r)&&u.init(r,c.checkStatus["default"]);var l=c.parseData;l&&l.plugFlag||(t.parseData=function(t){t="function"==typeof l?l.call(n,t)||t:t;var e=c.response?c.response.dataName||"data":"data";return o(t[e],r),t},t.parseData.plugFlag=!0);var d=f.call(n,t);return i[d.config.id]=d};var d=a.reload;a.reload=function(t,e){var a=this,n=d.call(a,t,e);return i[n.config.id]=n};var s=function(t){return i[t]&&i[t].config},h=a.checkStatus;a.checkStatus=function(t){var e=this,a=s(t);if(a&&a.checkStatus){var i=h.call(e,t);return{data:u.get(t),isAll:i.isAll}}return h.call(e,t)},a.on("checkbox",function(t){var a=e(this).closest(".layui-table-view"),i=a.attr("lay-id")||a.prev().attr("id"),n=s(i);if(n.page&&n.checkStatus&&u.check(i)){var c=t.checked,r=t.data,l=t.type,o=n.checkStatus.primaryKey||"id";"one"===l?u.update(i,r[o],c):"all"===l&&layui.each(layui.table.cache[i],function(t,e){u.update(i,e[o],c)})}});var g={CHECK_TYPE_ADDITIONAL:n,CHECK_TYPE_REMOVED:c,CHECK_TYPE_ORIGINAL:r,tableCheck:u,getConfig:s};t("tablePlug",g)});